
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>NEO DAPI Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#dapi-for-end-users" class="toc-h2 toc-link" data-title="DAPI for End Users">DAPI for End Users</a>
                  </li>
                  <li>
                    <a href="#dapi-for-dapp-developers" class="toc-h2 toc-link" data-title="DAPI for dApp Developers">DAPI for dApp Developers</a>
                  </li>
                  <li>
                    <a href="#dapi-for-wallet-providers" class="toc-h2 toc-link" data-title="DAPI for Wallet Providers">DAPI for Wallet Providers</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#read-methods" class="toc-h1 toc-link" data-title="Read Methods">Read Methods</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getprovider" class="toc-h2 toc-link" data-title="getProvider">getProvider</a>
                  </li>
                  <li>
                    <a href="#getnetworks" class="toc-h2 toc-link" data-title="getNetworks">getNetworks</a>
                  </li>
                  <li>
                    <a href="#getaccount" class="toc-h2 toc-link" data-title="getAccount">getAccount</a>
                  </li>
                  <li>
                    <a href="#getbalance" class="toc-h2 toc-link" data-title="getBalance">getBalance</a>
                  </li>
                  <li>
                    <a href="#getstorage" class="toc-h2 toc-link" data-title="getStorage">getStorage</a>
                  </li>
                  <li>
                    <a href="#invokeread" class="toc-h2 toc-link" data-title="invokeRead">invokeRead</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#write-methods" class="toc-h1 toc-link" data-title="Write Methods">Write Methods</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#send" class="toc-h2 toc-link" data-title="send">send</a>
                  </li>
                  <li>
                    <a href="#invoke" class="toc-h2 toc-link" data-title="invoke">invoke</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#events" class="toc-h1 toc-link" data-title="Events">Events</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#ready" class="toc-h2 toc-link" data-title="READY">READY</a>
                  </li>
                  <li>
                    <a href="#account_changed" class="toc-h2 toc-link" data-title="ACCOUNT_CHANGED">ACCOUNT_CHANGED</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the NEO dAPI. This allows your decentralized application to connect to any NEO wallet which conforms to the dAPI standard. You no longer have to spend any time building out your own wallet, and can instead focus on making your application great. If you&#39;d like to learn more about the use cases of this dAPI, please read below. Otherwise, feel free to skip directly to the method implementation starting with Read Methods.</p>
<h2 id='dapi-for-end-users'>DAPI for End Users</h2>
<p>As dApps come into the ecosystem, there will be more concerns about the safety of user assets. If dApps all required users to input their private keys in order to use them, it just takes one malicious dApp to steal all their funds. By using a trusted wallet provider which interfaces with the various dApps in the ecosystem on their behalf, users can reduce the exposure of their private keys. This will even allow users to transact with their hardware wallets via the wallet provider, never having to reveal their private keys even to the wallet itself.</p>
<h2 id='dapi-for-dapp-developers'>DAPI for dApp Developers</h2>
<p>One of the initial hurtles for any developer when starting to develop a dApp is to create a wallet module that will allow the user and application to interface with the NEO blockchain. While there are many quality SDKs out there such as neon-js for facilitating the communication of these requests, there are often many hurtles to successfully constructing the right combination of methods, along with input and output parsing. The issue only gets amplified when trying to integrate with hardware wallet providers such as a Ledger device.</p>

<p>While there may be several options for 3rd party wallet providers that will help them to facilitate these transactions, the is currently no common consensus on the consistency of their interfaces. With a lack of consistency in interfaces to use these wallet provider services, dApp developers will be forced to make a decision to have their platform supported by a single provider, or to double or even triple their development efforts to accommodate all the different wallet provider interfaces. This will lead to a fragmentation in the dApps ecosystem.</p>
<h2 id='dapi-for-wallet-providers'>DAPI for Wallet Providers</h2>
<p>Each wallet provider, when deciding on supporting dApps to utilize their services as an authentication mechanism will be faced with a decision on how to implement an API to communicate with the dApps. Wallet providers can choose to create their own API from scratch, create their own version of existing projects, or aim to directly duplication an existing API. In the case that the provider decides to make their own API interface from scratch, and try to promote dApps to use it, time and effort will inevitably be wasted by both the provider and competing providers on getting dApp developers on board with using their custom communication interface. If we have a unified interface for such transactions, providers can spend more time on making their individual services better for their users.</p>
<h1 id='read-methods'>Read Methods</h1>
<p>Read methods do not alter the state of the blockchain. It can help you query information about your user, and provide you with relevant information:</p>
<h2 id='getprovider'>getProvider</h2><pre class="highlight javascript tab-javascript"><code><span class="nx">getProvider</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">provider</span><span class="p">:</span> <span class="nx">Provider</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="p">{</span>
    <span class="nx">name</span><span class="p">,</span>
    <span class="nx">website</span><span class="p">,</span>
    <span class="nx">version</span><span class="p">,</span>
    <span class="nx">compatibility</span><span class="p">,</span>
  <span class="p">}</span> <span class="o">=</span> <span class="nx">provider</span><span class="p">;</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Provider name: '</span> <span class="o">+</span> <span class="nx">name</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Provider website: '</span> <span class="o">+</span> <span class="nx">website</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Provider dAPI version: '</span> <span class="o">+</span> <span class="nx">version</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Provider dAPI compatibility: '</span> <span class="o">+</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">compatibility</span><span class="p">));</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="na">err</span><span class="p">:</span> <span class="nx">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">switch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="na">NO_PROVIDER</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'No provider available.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="na">CONNECTION_DENIED</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'The user rejected the request to connect with your dApp.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"O3"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"o3.network"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compatibility"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"NEP-1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"NEP-2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"NEP-3"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns information about the dAPI provider, including who this provider is, the version of their dAPI, and the NEP that the interface is compatible with.</p>
<h3 id='provider-response'>Provider Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>The name of the wallet provider</td>
</tr>
<tr>
<td>website</td>
<td>String</td>
<td>The website of the wallet provider</td>
</tr>
<tr>
<td>version</td>
<td>String</td>
<td>The version of the dAPI that the the wallet supports</td>
</tr>
<tr>
<td>compatibility</td>
<td>[String]</td>
<td>A list of all applicable NEPs which the wallet provider supports</td>
</tr>
</tbody></table>
<h2 id='getnetworks'>getNetworks</h2><pre class="highlight javascript tab-javascript"><code><span class="nx">getNetworks</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">networks</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">networks</span><span class="p">;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Networks: '</span> <span class="o">+</span> <span class="nx">networks</span><span class="p">);</span>
  <span class="c1">// eg. ["MainNet", "TestNet", "PrivateNet"]</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="na">err</span><span class="p">:</span> <span class="nx">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">switch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="na">NO_PROVIDER</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'No provider available.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="na">CONNECTION_DENIED</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'The user rejected the request to connect with your dApp'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Example Response
<code>json
{
  &quot;networks&quot;: [&quot;MainNet&quot;, &quot;TestNet&quot;, &quot;PrivateNet&quot;]
}
</code></p>
</blockquote>

<p>Returns the networks that the wallet provider has available to connect to.</p>
<h3 id='networks-response'>Networks Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>networks</td>
<td>[String]</td>
<td>A list of all networks which this wallet will allow access to</td>
</tr>
</tbody></table>
<h2 id='getaccount'>getAccount</h2><pre class="highlight javascript tab-javascript"><code><span class="nx">getAccount</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">account</span><span class="p">:</span> <span class="nx">Account</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="p">{</span>
    <span class="nx">address</span><span class="p">,</span>
    <span class="nx">publicKey</span><span class="p">,</span>
  <span class="p">}</span> <span class="o">=</span> <span class="nx">account</span><span class="p">;</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Provider address: '</span> <span class="o">+</span> <span class="nx">address</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Provider public key: '</span> <span class="o">+</span> <span class="nx">publicKey</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="na">err</span><span class="p">:</span> <span class="nx">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">switch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="na">NO_PROVIDER</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'No provider available.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="na">CONNECTION_DENIED</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'The user rejected the request to connect with your dApp'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AeysVbKWiLSuSDhg7DTzUdDyYYKfgjojru"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03d43468721ef8936548878071b534d8228c313e02e6d90cef8c65fd3c2d4eaeed"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Return the Account that is currently connected to the dApp.</p>
<h3 id='account-response'>Account Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>String</td>
<td>The address of the account that is currently connected to the dapp</td>
</tr>
<tr>
<td>publicKey</td>
<td>String</td>
<td>The public key of the account that is currently connected to the dapp</td>
</tr>
</tbody></table>
<h2 id='getbalance'>getBalance</h2><pre class="highlight javascript tab-javascript"><code><span class="nx">getBalance</span><span class="p">({</span>
  <span class="na">params</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">address</span><span class="p">:</span> <span class="s1">'AeysVbKWiLSuSDhg7DTzUdDyYYKfgjojru'</span><span class="p">,</span>
    <span class="na">assets</span><span class="p">:</span> <span class="p">[</span><span class="s1">'NKN'</span><span class="p">]</span>
  <span class="p">},</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'MainNet'</span><span class="p">,</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">results</span><span class="p">:</span> <span class="nx">BalanceResults</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">results</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">address</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="p">{</span> <span class="nx">balances</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">results</span><span class="p">[</span><span class="nx">address</span><span class="p">];</span>
    <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">balances</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">balance</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="p">{</span> <span class="nx">scriptHash</span><span class="p">,</span> <span class="nx">symbol</span><span class="p">,</span> <span class="nx">amount</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">balance</span>

      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Address: '</span> <span class="o">+</span> <span class="nx">address</span><span class="p">);</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Asset scriptHash: '</span> <span class="o">+</span> <span class="nx">scriptHash</span><span class="p">);</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Asset symbol: '</span> <span class="o">+</span> <span class="nx">symbol</span><span class="p">);</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Amount: '</span> <span class="o">+</span> <span class="nx">amount</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="na">err</span><span class="p">:</span> <span class="nx">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">switch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="na">NO_PROVIDER</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'No provider available.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="na">CONNECTION_DENIED</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'The user rejected the request to connect with your dApp'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Single Address with specific balances requested</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">//input</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AeysVbKWiLSuSDhg7DTzUdDyYYKfgjojru"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"assets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"NKN"</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MainNet"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//output</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"AeysVbKWiLSuSDhg7DTzUdDyYYKfgjojru"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"scriptHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c36aee199dbba6c3f439983657558cfb67629599"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NKN"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000233"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Single Address with all balances requested</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">Query</span><span class="w"> </span><span class="err">Input</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AeysVbKWiLSuSDhg7DTzUdDyYYKfgjojru"</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MainNet"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Query</span><span class="w"> </span><span class="err">Output</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"AeysVbKWiLSuSDhg7DTzUdDyYYKfgjojru"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"scriptHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c56f33fc6ecfcd0c225c4ab356fee59390af8560be0e930faebe74a6daff7c9b"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NEO"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"scriptHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"602c79718b16e442de58778e148d0b1084e3b2dffd5de6b7b16cee7969282de7"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GAS"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"777.0001"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"scriptHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c36aee199dbba6c3f439983657558cfb67629599"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NKN"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000233"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"scriptHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fc732edee1efdf968c23c20a9628eaa5a6ccb934"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NNC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Multiple address balance queries</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">Query</span><span class="w"> </span><span class="err">Input</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AeysVbKWiLSuSDhg7DTzUdDyYYKfgjojru"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AbKNY45nRDy6B65YPVz1B6YXiTnzRqU2uQ"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"asset"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"PHX"</span><span class="p">],</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MainNet"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Query</span><span class="w"> </span><span class="err">Output</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"AeysVbKWiLSuSDhg7DTzUdDyYYKfgjojru"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"scriptHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c56f33fc6ecfcd0c225c4ab356fee59390af8560be0e930faebe74a6daff7c9"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NEO"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"scriptHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"602c79718b16e442de58778e148d0b1084e3b2dffd5de6b7b16cee7969282de7"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GAS"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"777.0001"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"scriptHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c36aee199dbba6c3f439983657558cfb67629599"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NKN"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000233"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"scriptHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fc732edee1efdf968c23c20a9628eaa5a6ccb934"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NNC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"AbKNY45nRDy6B65YPVz1B6YXiTnzRqU2uQ"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"scriptHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1578103c13e39df15d0d29826d957e85d770d8c9"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PHX"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11000"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Allows the DAPP to query the balance of a user, this includes both native assets (NEO/GAS) and NEP-5 tokens</p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>params</td>
<td>[BalanceRequest]</td>
<td>A list of Balance Request Objects, specifying which addresses, and which assets to query</td>
</tr>
<tr>
<td>network</td>
<td>String</td>
<td>The call will only work for the networks available in the GetNetworks command</td>
</tr>
<tr>
<td>fetchUTXO?</td>
<td>boolean</td>
<td>The response will fetch NEO and GAS UTXO&#39;s if this attribute is true</td>
</tr>
</tbody></table>
<h3 id='balance-request'>Balance Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>String</td>
<td>The address whose balance you want to query</td>
</tr>
<tr>
<td>assets</td>
<td>[String]</td>
<td>A list of symbols to query the balance for</td>
</tr>
</tbody></table>
<h3 id='response-parameters'>Response Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address_1</td>
<td>[BalanceResponse]</td>
<td>This key is the actual address of the query eg. &quot;AeysVbKWiLSuSDhg7DTzUdDyYYKfgjojru&quot;</td>
</tr>
<tr>
<td>address_2</td>
<td>[BalanceResponse]</td>
<td>This key is the actual address of the query eg. &quot;AbKNY45nRDy6B65YPVz1B6YXiTnzRqU2uQ&quot;</td>
</tr>
<tr>
<td>address_n</td>
<td>[BalanceResponse]</td>
<td>This key is the actual address of the query eg. &quot;AUdawyrLMskxXMUE8osX9mSLKz8R7777kE&quot;</td>
</tr>
</tbody></table>

<aside class="notice">
The amount of addresses is n where n is the number of addresses specified in your query
</aside>
<h3 id='balanceresponse'>BalanceResponse</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>scriptHash</td>
<td>String</td>
<td>Script hash of the given asset</td>
</tr>
<tr>
<td>symbol</td>
<td>String</td>
<td>Symbol of the given asset</td>
</tr>
<tr>
<td>amount</td>
<td>String</td>
<td>Double Value of the balance represented as a String</td>
</tr>
<tr>
<td>unspent</td>
<td>[UTXO]</td>
<td>If fetch utxo&#39;s was turned on then the utxo array will be returned for the native assets NEO and GAS</td>
</tr>
</tbody></table>
<h3 id='utxo'>UTXO</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>String</td>
<td>Script hash of the native asset</td>
</tr>
<tr>
<td>createdAtBlock</td>
<td>String</td>
<td>Block number where this utxo was created</td>
</tr>
<tr>
<td>index</td>
<td>Int</td>
<td>???</td>
</tr>
<tr>
<td>txid</td>
<td>String</td>
<td>The transaction id of this UTXO</td>
</tr>
<tr>
<td>value</td>
<td>String</td>
<td>The double value of this UTXO represented as a String</td>
</tr>
</tbody></table>
<h2 id='getstorage'>getStorage</h2><pre class="highlight javascript tab-javascript"><code><span class="nx">getStorage</span><span class="p">({</span>
  <span class="na">scriptHash</span><span class="p">:</span> <span class="s1">'505663a29d83663a838eee091249abd167e928f5'</span><span class="p">,</span>
  <span class="na">key</span><span class="p">:</span> <span class="s1">'game.status'</span><span class="p">,</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'TestNet'</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Storage value: '</span> <span class="o">+</span> <span class="nx">value</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="na">err</span><span class="p">:</span> <span class="nx">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">switch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="na">NO_PROVIDER</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'No provider available.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="na">CONNECTION_REFUSED</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Connection dApp not connected. Please call the "connect" function.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="na">RPC_ERROR</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'There was an error when broadcasting this transaction to the network.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello world"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the raw value located in contract storage</p>
<h3 id='get-storage-request'>Get Storage Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>scriptHash</td>
<td>String</td>
<td>Scripthash of the contract whose storage you are querying on</td>
</tr>
<tr>
<td>key</td>
<td>String</td>
<td>Key of the storage value to retrieve from the contract</td>
</tr>
<tr>
<td>network</td>
<td>String?</td>
<td>Network alias to submit this request to. If omitted, will default to &quot;MainNet&quot;.</td>
</tr>
</tbody></table>
<h3 id='get-storage-response'>Get Storage Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td>String</td>
<td>The raw value located in contract storage</td>
</tr>
</tbody></table>
<h2 id='invokeread'>invokeRead</h2>
<p>Execute a contract invocation in read-only mode.
<code>javascript
invokeRead({
  scriptHash: &#39;505663a29d83663a838eee091249abd167e928f5&#39;,
  operation: &#39;calculatorAdd&#39;,
  arguments: [
    {
      type: &#39;integer&#39;,
      value: 2
    },
    {
      type: &#39;integer&#39;,
      value: 10
    }
  ],
  network: &#39;PrivNet&#39;
})
.then((result: Object) =&gt; {
  console.log(&#39;Read invocation result: &#39; + JSON.stringigy(result));
})
.catch((err: string) =&gt; {
  switch(err) {
    case NO_PROVIDER:
      console.log(&#39;No provider available.&#39;);
      break;
    case CONNECTION_REFUSED:
      console.log(&#39;Connection dApp not connected. Please call the &quot;connect&quot; function.&#39;);
      break;
   case RPC_ERROR:
    console.log(&#39;There was an error when broadcasting this transaction to the network.&#39;);
    break;
  }
});
</code></p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">script</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">8</span><span class="err">h</span><span class="mi">89</span><span class="err">fh</span><span class="mi">398</span><span class="err">f</span><span class="mi">42</span><span class="err">f.....</span><span class="mi">89</span><span class="err">hf</span><span class="mi">2894</span><span class="err">hf</span><span class="mi">9834</span><span class="err">'</span><span class="p">,</span><span class="w">
  </span><span class="err">state</span><span class="p">:</span><span class="w"> </span><span class="err">'HALT</span><span class="p">,</span><span class="w"> </span><span class="err">BREAK'</span><span class="p">,</span><span class="w">
  </span><span class="err">gas_consumed</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">0.13</span><span class="err">'</span><span class="p">,</span><span class="w">
  </span><span class="err">stack</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="err">type</span><span class="p">:</span><span class="w"> </span><span class="err">'Integer'</span><span class="p">,</span><span class="w">
      </span><span class="err">value</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">1337</span><span class="err">'</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='write-methods'>Write Methods</h1>
<p>Write methods will alter the state on the blockchain on behalf of the user</p>
<h2 id='send'>send</h2><pre class="highlight javascript tab-javascript"><code><span class="nx">send</span><span class="p">({</span>
  <span class="na">fromAddress</span><span class="p">:</span> <span class="s1">'ATaWxfUAiBcQixNPq6TvKHEHPQum9bx79d'</span><span class="p">,</span>
  <span class="na">toAddress</span><span class="p">:</span> <span class="s1">'ATaWxfUAiBcQixNPq6TvKHEHPQum9bx79d'</span><span class="p">,</span>
  <span class="na">asset</span><span class="p">:</span> <span class="s1">'GAS'</span><span class="p">,</span>
  <span class="na">amount</span><span class="p">:</span> <span class="s1">'0.0001'</span><span class="p">,</span>
  <span class="na">remark</span><span class="p">:</span> <span class="s1">'Hash puppy clothing purchase. Invoice#abc123'</span><span class="p">,</span>
  <span class="na">fee</span><span class="p">:</span> <span class="s1">'0.0001'</span><span class="p">,</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'MainNet'</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(({</span><span class="nx">txid</span><span class="p">,</span> <span class="nx">nodeUrl</span><span class="p">}:</span> <span class="nx">SendOutput</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Send transaction success!'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Transaction ID: '</span> <span class="o">+</span> <span class="nx">txid</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'RPC node URL: '</span> <span class="o">+</span> <span class="nx">nodeUrl</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="na">err</span><span class="p">:</span> <span class="nx">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">switch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="na">NO_PROVIDER</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'No provider available.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="na">CONNECTION_REFUSED</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'dApp not connected. Please call the "connect" function.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="na">SEND_ERROR</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'There was an error when broadcasting this transaction to the network.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="na">MALFORMED_ADDRESS</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'The receiver address provided is not valid.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="na">CANCELED</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'The user has canceled this transaction.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="na">INSUFFICIENT_FUNDS</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'The user has insufficient funds to execute this transaction.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">txid</span><span class="p">:</span><span class="w"> </span><span class="err">'ed</span><span class="mi">54</span><span class="err">fb</span><span class="mi">38</span><span class="err">dff</span><span class="mi">371</span><span class="err">be</span><span class="mi">6</span><span class="err">e</span><span class="mi">3</span><span class="err">f</span><span class="mi">96</span><span class="err">e</span><span class="mi">4880405758</span><span class="err">c</span><span class="mi">07</span><span class="err">fe</span><span class="mi">6</span><span class="err">dd</span><span class="mi">1295</span><span class="err">eb</span><span class="mi">136</span><span class="err">fe</span><span class="mi">15</span><span class="err">f</span><span class="mi">311</span><span class="err">e</span><span class="mi">9</span><span class="err">ff</span><span class="mi">77</span><span class="err">'</span><span class="p">,</span><span class="w">
  </span><span class="err">nodeUrl</span><span class="p">:</span><span class="w"> </span><span class="err">'http</span><span class="p">:</span><span class="err">//seed</span><span class="mi">7</span><span class="err">.ngd.network</span><span class="p">:</span><span class="mi">10332</span><span class="err">'</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The send API can be used for accepting payments from the user in a cryptocurrency that is located on the NEO blockchain. It requires user authentication in order for the transaction to be relayed. The transaction will be relayed by the wallet.</p>
<h3 id='send-request'>Send Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fromAddress</td>
<td>String</td>
<td>The address from where the transaction is being sent. This will be the same value as the one received from the getAccount API</td>
</tr>
<tr>
<td>toAddress</td>
<td>String</td>
<td>The address to where the user should send their funds</td>
</tr>
<tr>
<td>asset</td>
<td>String</td>
<td>The asset which is being requested for payment...e.g GAS or CGAS</td>
</tr>
<tr>
<td>amount</td>
<td>String</td>
<td>The amount which is being requested for payment</td>
</tr>
<tr>
<td>remark</td>
<td>String?</td>
<td>A transaction attribute remark which may be placed in the transaction, this data will appear in the transaction record on the blockchain</td>
</tr>
<tr>
<td>fee</td>
<td>String?</td>
<td>If a fee is specified then the wallet SHOULD NOT override it, if a fee is not specified the wallet SHOULD allow the user to attach an optional fee</td>
</tr>
<tr>
<td>network</td>
<td>String?</td>
<td>Network alias to submit this request to. If omitted, will default to &quot;MainNet&quot;.</td>
</tr>
</tbody></table>
<h3 id='send-response'>Send Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>txid</td>
<td>String</td>
<td>The transaction id of the send request which can be queried on the blockchain</td>
</tr>
<tr>
<td>nodeURL</td>
<td>String</td>
<td>The node to which the transaction was submitted to</td>
</tr>
</tbody></table>

<aside class="warning">
It is reccommended that the DAPP take appropriate levels of risk prevention when accepting transactions. The dapp can query the mempool of a known node to ensure that the transaction will indeed be broadcast on the network.
</aside>
<h2 id='invoke'>invoke</h2><pre class="highlight javascript tab-javascript"><code><span class="nx">invoke</span><span class="p">({</span>
  <span class="na">scriptHash</span><span class="p">:</span> <span class="s1">'505663a29d83663a838eee091249abd167e928f5'</span><span class="p">,</span>
  <span class="na">operation</span><span class="p">:</span> <span class="s1">'storeData'</span><span class="p">,</span>
  <span class="na">arguments</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">type</span><span class="p">:</span> <span class="s1">'string'</span><span class="p">,</span>
      <span class="na">value</span><span class="p">:</span> <span class="s1">'hello'</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="na">assets</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">NEO</span><span class="p">:</span> <span class="s1">'100'</span><span class="p">,</span>
    <span class="na">GAS</span><span class="p">:</span> <span class="s1">'0.0001'</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">fee</span><span class="p">:</span> <span class="s1">'0.001'</span><span class="p">,</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'TestNet'</span><span class="p">,</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(({</span><span class="nx">txid</span><span class="p">,</span> <span class="nx">nodeUrl</span><span class="p">}:</span> <span class="nx">InvokeOutput</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Invoke transaction success!'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Transaction ID: '</span> <span class="o">+</span> <span class="nx">txid</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'RPC node URL: '</span> <span class="o">+</span> <span class="nx">nodeUrl</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="na">err</span><span class="p">:</span> <span class="nx">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">switch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="na">NO_PROVIDER</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'No provider available.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="na">CONNECTION_REFUSED</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Connection dApp not connected. Please call the "connect" function.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="na">RPC_ERROR</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'There was an error when broadcasting this transaction to the network.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="na">CANCELED</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'The user has canceled this transaction.'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ed54fb38dff371be6e3f96e4880405758c07fe6dd1295eb136fe15f311e9ff77"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nodeUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://seed7.ngd.network:10332"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Invoke allows for the generic execution of smart contracts on behalf of the user. It is reccommended to have a general understanding of the NEO blockchain, and to be able successfully use all other commands listed previously in this document before attempting a generic contract execution. </p>
<h3 id='invoke-request'>Invoke Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>scriptHash</td>
<td>String</td>
<td>The script hash of the contract that you wish to invoke</td>
</tr>
<tr>
<td>operation</td>
<td>String</td>
<td>The operation on the smart contract that you wish to call. This can be fetched from the contract ABI</td>
</tr>
<tr>
<td>args</td>
<td>[Argument]</td>
<td>A list of arguments necessary to perform on the operation you wish to call</td>
</tr>
<tr>
<td>fee</td>
<td>String?</td>
<td>If a fee is specified then the wallet SHOULD NOT override it, if a fee is not specified the wallet SHOULD allow the user to attach an optional fee</td>
</tr>
<tr>
<td>network</td>
<td>String?</td>
<td>Network alias to submit this request to. If omitted, will default to &quot;MainNet&quot;.</td>
</tr>
<tr>
<td>assets</td>
<td>AttachedAssets?</td>
<td>Describes the assets to attach with the smart contract, e.g. attaching assets to mint tokens during a token sale</td>
</tr>
<tr>
<td>assetIntentOverrides</td>
<td>AssetIntentOverrides</td>
<td>Used to specify the exact the exact UTXO&#39;s to use for attached assets. If this is provided fee and attachedAssets will be ignored</td>
</tr>
<tr>
<td>triggerContractVerification</td>
<td>Boolean?</td>
<td>Adds the instruction to invoke the contract verifican trigger</td>
</tr>
</tbody></table>
<h3 id='argument'>Argument</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>String</td>
<td>The type of the argument with you are using</td>
</tr>
<tr>
<td>value</td>
<td>String</td>
<td>String representation of the argument which you are using</td>
</tr>
</tbody></table>

<aside class =notice>
Available types are "String"|"Boolean"|"Hash160"|"Integer"|"ByteArray"|"Array"|"Address"  
</aside>
<h3 id='attachedassets'>AttachedAssets</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NEO</td>
<td>String?</td>
<td>The amount of NEO to attach to the contract invocation</td>
</tr>
<tr>
<td>GAS</td>
<td>String?</td>
<td>The amount of GAS to attach to the contract invocation</td>
</tr>
</tbody></table>
<h3 id='assetintentoverrides'>AssetIntentOverrides</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>inputs</td>
<td>[AssetInput]</td>
<td>A list of UTXO inputs to use for this transaction</td>
</tr>
<tr>
<td>outputs</td>
<td>[AssetOutput]</td>
<td>A list of UTXO outputs to use for this transaction</td>
</tr>
</tbody></table>
<h3 id='assetinput'>AssetInput</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>txid</td>
<td>String</td>
<td>Transaction id to be used as input</td>
</tr>
<tr>
<td>index</td>
<td>String</td>
<td>Index of the UTXO, can be found from transaction details</td>
</tr>
</tbody></table>
<h3 id='assetoutput'>AssetOutput</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>String</td>
<td>A list of UTXO inputs to use for this transaction</td>
</tr>
<tr>
<td>address</td>
<td>String</td>
<td>A list of UTXO outputs to use for this transaction</td>
</tr>
<tr>
<td>value</td>
<td>String</td>
<td>String representation of double or integer value to be used as output</td>
</tr>
</tbody></table>
<h3 id='invoke-response'>Invoke Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>txid</td>
<td>String</td>
<td>The transaction id of the send request which can be queried on the blockchain</td>
</tr>
<tr>
<td>nodeURL</td>
<td>String</td>
<td>The node to which the transaction was submitted to</td>
</tr>
</tbody></table>
<h1 id='events'>Events</h1>
<p>Events are a way for the wallet to asynchronously with the DAPP when certain changes occur to the state of the wallet that might be relevant for the</p>
<h2 id='ready'>READY</h2>
<p>On a READY event, the callback will fire with a single argument with information about the wallet provider. At any time a READY event listener is added, it will immidiately be called if the provider is already in a ready state. This provides a single flow for dapp developers since this listener should start any and all interactions with the dapi protocol.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Name of the provider</td>
</tr>
<tr>
<td>website</td>
<td>String</td>
<td>Website of the provider</td>
</tr>
<tr>
<td>version</td>
<td>String</td>
<td>Version of the dAPI whih the provider supports</td>
</tr>
<tr>
<td>compatibility</td>
<td>[String]</td>
<td>List of NEP&#39;s which the dAPI provider will support</td>
</tr>
</tbody></table>
<h2 id='account_changed'>ACCOUNT_CHANGED</h2>
<p>On a ACCOUNT_CHANGED event, the callback will fire with a single argument of the new account. In the case that the user logs out without providing a new account to connect, this will be null.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>String</td>
<td>Address of the new account</td>
</tr>
<tr>
<td>publicKey</td>
<td>String</td>
<td>Public Key of the new account</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<p>The NEO dAPI will provide these basic errors. It is up to the wallet provider to provide additional information if they choose:</p>

<table><thead>
<tr>
<th>Error Type</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>NO_PROVIDER</td>
<td>Could not find an instance of the dAPI in the webpage</td>
</tr>
<tr>
<td>CONNECTION_REFUSED</td>
<td>The dAPI provider refused to process this request</td>
</tr>
<tr>
<td>RPC_ERROR</td>
<td>An RPC error occured when submitting the request</td>
</tr>
<tr>
<td>SEND_ERROR</td>
<td>An error occured while attempting to send</td>
</tr>
<tr>
<td>MALFORMED_ADDRESS</td>
<td>An input address was invalid</td>
</tr>
<tr>
<td>CANCELED</td>
<td>The user chose to cancel the action</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
